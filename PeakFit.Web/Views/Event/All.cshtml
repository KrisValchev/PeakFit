@using static PeakFit.Web.Extensions.ClaimsPrincipalExtensions
@using static PeakFit.Core.Constants.RoleConstants
@model IEnumerable<PeakFit.Core.Models.EventModels.AllEventsInfoModel>
@{
    ViewData["Title"] = "All Events";
}

<h2 class="text-center">@ViewData["Title"]</h2>
<link rel="stylesheet" href="~/css/eventCard.css">
<section class="event-section">
    @foreach (var _event in Model)
    {
        <div class="event-item">
            <img src="@_event.ImageUrl" alt="Event Image" class="event-image">
            <div class="event-details">
                <h3 class="event-title">@_event.Title</h3>
                <p class="event-date">Start Date: @_event.StartDate</p>
                <p class="event-time">Start Hour: @_event.StartHour</p>
            </div>
            <div class="buttons" style="display: flex;flex-direction: row; gap:5px;">
                @{
                    if(User?.Identity?.Name==_event.TrainerUserName || User.IsAdmin())
                    {
                        <a asp-controller="Event" asp-action="Edit" asp-route-id="@_event.Id" name="details" class="btn btn-warning" style="color:white;width:150px;">Edit Event</a>
                    }
                }
                <a asp-controller="Event" asp-action="Details" asp-route-id="@_event.Id"  name="details" class="btn btn-info" style="color:white;width:150px;">More info</a>
            </div>
        </div>
    }
    
</section>

